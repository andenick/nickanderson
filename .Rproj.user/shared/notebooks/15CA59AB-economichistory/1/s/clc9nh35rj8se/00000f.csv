"0","#i'm going to change categories now we will use YearsCat so that we can get a more precise picture of the debt load of the united states"
"0",""
"0",""
"0","looptest_graph$yearsCat <- factor(looptest_graph$yearsCat, ordered = FALSE)"
"0","looptest_graph$yearsCat <- relevel(looptest_graph$yearsCat,c(""less than a year""))"
"0",""
"0",""
"0","ggDurApproxUSD4 <- ggplot(looptest_graph) +"
"0","geom_bar(aes(x = recDate, y = -durApproxInUSD/1000, fill = factor(yearsCat,c(""less than a year"", ""1-2 years"", ""2-4 years"", ""4-8 years"", ""8-12 years"", ""12-20 years"", ""20+ years""))),"
"0","position = ""stack"", stat = ""identity"") +"
"0","ggtitle(""$B change in Market Value of all Outstanding Treasuries"
"0","        for a .01% Decrease in Interest Rates"
"0","        (Macaulay Duration Approximation)"
"0","        (Only Marketable, Fixed Rate)"") +"
"0","ylab(""Billions of Dollars"") +"
"0","xlab(""Record Date"") +"
"0","guides(fill = guide_legend(title = ""Years to Maturity"")) +"
"0","scale_fill_brewer(palette = ""Dark2"") +"
"0","theme_bw() +"
"0","theme("
"0","title = element_text(size = 10, face = ""bold""),"
"0","axis.title = element_text(size = 14),"
"0","axis.text = element_text(size = 14),"
"0","legend.title = element_text(size = 14),"
"0","legend.text = element_text(size = 12),"
"0","panel.grid.major = element_line(color = ""lightgray""),"
"0","panel.grid.minor = element_blank(),"
"0","legend.position = ""right"")"
"0",""
"0","ggDurApproxUSD5 <- ggplot(looptest_graph) +"
"0","geom_bar(aes(x = recDate, y = durApproxInUSD/sumDur, fill = factor(yearsCat, c(""less than a year"", ""1-2 years"", ""2-4 years"", ""4-8 years"", ""8-12 years"", ""12-20 years"", ""20+ years""))),"
"0","position = ""stack"", stat = ""identity"") +"
"0","ggtitle(""% of Total Change in Market Value of all Outstanding Treasuries"
"0","        for a .01% Decrease in Interest Rates"
"0","        (Only Marketable, Fixed Rate)"") +"
"0","ylab(""Percentage"") +"
"0","xlab(""Record Date"") +"
"0","guides(fill = guide_legend(title = ""Years to Maturity"")) +"
"0","scale_fill_brewer(palette = ""Dark2"") +"
"0","theme_bw() +"
"0","theme("
"0","title = element_text(size = 10, face = ""bold""),"
"0","axis.title = element_text(size = 14),"
"0","axis.text = element_text(size = 14),"
"0","legend.title = element_text(size = 14),"
"0","legend.text = element_text(size = 12),"
"0","panel.grid.major = element_line(color = ""lightgray""),"
"0","panel.grid.minor = element_blank(),"
"0","legend.position = ""right"")"
"0",""
"0","#now let's revisit the outstanding graphs"
"0",""
"0","ggOutstandingEnd2 <- ggplot(looptest_graph) +"
"0","                    geom_bar(aes(x = recDate, y = outsAmtMln/1000000, fill =  factor(yearsCat,c(""less than a year"", ""1-2 years"", ""2-4 years"", ""4-8 years"", ""8-12 years"", ""12-20 years"", ""20+ years""))), "
"0","                    position = ""stack"", stat = ""identity"") +"
"0","                    ggtitle(""Outstanding Treasuries in Trillions of $"
"0","                            (Only Marketable, Fixed Rate)"") +"
"0","                    ylab(""Trillions of Dollars"") +"
"0","                    xlab(""Record Date"") +"
"0","                    guides(fill = guide_legend(title = ""Years to Maturity"")) +"
"0","scale_fill_brewer(palette = ""Dark2"") +"
"0","theme_bw() +"
"0","theme("
"0","title = element_text(size = 10, face = ""bold""),"
"0","axis.title = element_text(size = 14),"
"0","axis.text = element_text(size = 14),"
"0","legend.title = element_text(size = 14),"
"0","legend.text = element_text(size = 12),"
"0","panel.grid.major = element_line(color = ""lightgray""),"
"0","panel.grid.minor = element_blank(),"
"0","legend.position = ""right"")"
"0",""
"0","ggOutstandingEnd3 <- ggplot(looptest_graph) +"
"0","geom_bar(aes(x = recDate, y = outsAmtMln/sumOuts, fill = factor(yearsCat, c(""less than a year"", ""1-2 years"", ""2-4 years"", ""4-8 years"", ""8-12 years"", ""12-20 years"", ""20+ years""))),"
"0","position = ""stack"", stat = ""identity"") +"
"0","ggtitle(""Outstanding Treasuries as a % of Total Outstanding Treasuries"
"0","(Only Marketable, Fixed Rate)"") +"
"0","ylab(""Percentage"") +"
"0","xlab(""Record Date"") +"
"0","guides(fill = guide_legend(title = ""Years to Maturity"")) +"
"0","scale_fill_brewer(palette = ""Dark2"") +"
"0","theme_bw() +"
"0","theme("
"0","title = element_text(size = 10, face = ""bold""),"
"0","axis.title = element_text(size = 14),"
"0","axis.text = element_text(size = 14),"
"0","legend.title = element_text(size = 14),"
"0","legend.text = element_text(size = 12),"
"0","panel.grid.major = element_line(color = ""lightgray""),"
"0","panel.grid.minor = element_blank(),"
"0","legend.position = ""right"")"
"0",""
"0",""
"0",""
"0",""
"0",""
"0",""
"0",""
"0",""
"0",""
"0",""
